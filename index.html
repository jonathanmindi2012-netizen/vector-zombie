<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Vector Zombie</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  html, body {
    margin: 0;
    padding: 0;
    background: #0d1110;
    color: #64ffda;
    font-family: Arial, sans-serif;
    overflow: hidden;
  }
  canvas {
    display: block;
    background: #111;
  }
  #ui {
    position: fixed;
    top: 10px;
    left: 10px;
    font-size: 18px;
  }
</style>
</head>

<body>
<div id="ui">❤️ Vida: <span id="vida">100</span></div>
<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let vida = 100;

const player = {
  x: canvas.width / 2,
  y: canvas.height / 2,
  size: 20,
  speed: 5
};

let zombies = [];

function crearZombie() {
  zombies.push({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    size: 20,
    speed: 1.5
  });
}

setInterval(crearZombie, 1500);

window.addEventListener("touchmove", e => {
  const t = e.touches[0];
  player.x = t.clientX;
  player.y = t.clientY;
});

function update() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // jugador
  ctx.fillStyle = "#64ffda";
  ctx.beginPath();
  ctx.arc(player.x, player.y, player.size, 0, Math.PI * 2);
  ctx.fill();

  // zombies
  ctx.fillStyle = "#ff4444";
  zombies.forEach(z => {
    const dx = player.x - z.x;
    const dy = player.y - z.y;
    const dist = Math.hypot(dx, dy);

    z.x += dx / dist * z.speed;
    z.y += dy / dist * z.speed;

    ctx.beginPath();
    ctx.arc(z.x, z.y, z.size, 0, Math.PI * 2);
    ctx.fill();

    if (dist < player.size + z.size) {
      vida -= 1;
      document.getElementById("vida").textContent = vida;
    }
  });

  if (vida > 0) {
    requestAnimationFrame(update);
  } else {
    ctx.fillStyle = "white";
    ctx.font = "40px Arial";
    ctx.fillText("GAME OVER", canvas.width / 2 - 100, canvas.height / 2);
  }
}

update();
</script>
</body>
</html>
