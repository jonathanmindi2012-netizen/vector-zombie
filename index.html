<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Vector zombie</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

<style>
body{
  margin:0;
  background:#000;
  color:white;
  font-family:Arial;
  overflow:hidden;
}

/* ===== LOBBY ===== */
#lobby{
  position:fixed;
  inset:0;
  background:url("https://i.imgur.com/8Km9tLL.jpg") center/cover;
  display:flex;
  justify-content:center;
  align-items:center;
}
#menu{
  backdrop-filter:blur(10px);
  background:rgba(0,0,0,.6);
  padding:25px;
  border-radius:20px;
  width:85%;
  max-width:360px;
}
#menu h1{
  text-align:center;
  color:#00ff99;
}
#menu button{
  width:100%;
  padding:18px;
  font-size:20px;
  border:none;
  border-radius:15px;
  background:#00ff99;
  font-weight:bold;
}

/* ===== GAME ===== */
#game{display:none;}
canvas{
  display:block;
  margin:auto;
  background:#0a0a0a;
}

/* ===== HUD ===== */
#hud{
  position:fixed;
  top:10px;
  left:10px;
  font-size:16px;
}

/* ===== CONTROLS ===== */
#controls{
  position:fixed;
  inset:0;
  pointer-events:none;
}
.joy{
  pointer-events:auto;
  position:absolute;
  bottom:20px;
  left:20px;
  width:110px;
  height:110px;
  border-radius:50%;
  background:rgba(255,255,255,.05);
  border:2px solid rgba(255,255,255,.3);
}
.joy::after{
  content:"";
  position:absolute;
  inset:30px;
  border-radius:50%;
  background:rgba(255,255,255,.2);
}

.btn{
  pointer-events:auto;
  position:absolute;
  width:80px;
  height:80px;
  border-radius:50%;
  background:rgba(0,255,153,.2);
  border:2px solid #00ff99;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:30px;
}
#fire{bottom:25px; right:25px;}
#ray{bottom:120px; right:30px;}
#boom{bottom:210px; right:30px;}
</style>
</head>

<body>

<div id="lobby">
  <div id="menu">
    <h1>üßü ZOMBIE SHOOTER</h1>
    <button onclick="start()">PLAY</button>
  </div>
</div>

<div id="game">
  <canvas id="c" width="360" height="640"></canvas>

  <div id="hud">
    ‚ù§Ô∏è <span id="life">100</span><br>
    ‚ò†Ô∏è <span id="kills">0</span>
  </div>

  <div id="controls">
    <div class="joy" id="move"></div>
    <div class="btn" id="fire">üî´</div>
    <div class="btn" id="ray">‚ö°</div>
    <div class="btn" id="boom">üí•</div>
  </div>
</div>

<script>
const c=document.getElementById("c");
const x=c.getContext("2d");

let p,b,z,k,move=false;

function start(){
  lobby.style.display="none";
  game.style.display="block";
  p={x:180,y:520,r:16,life:100};
  b=[]; z=[]; k=0;
  setInterval(()=>z.push({x:Math.random()*360,y:-20,r:16,s:1}),1000);
  loop();
}

move.addEventListener("touchstart",()=>move=true);
move.addEventListener("touchend",()=>move=false);
fire.addEventListener("touchstart",()=>b.push({x:p.x,y:p.y,dy:-7}));

ray.addEventListener("touchstart",()=>{ if(k>=5) z=z.filter(e=>Math.abs(e.x-p.x)>15); });
boom.addEventListener("touchstart",()=>{ if(k>=10) z=[]; });

function loop(){
  x.clearRect(0,0,360,640);
  if(move) p.x+=2;
  x.fillStyle="#00ff99";
  x.beginPath(); x.arc(p.x,p.y,p.r,0,7); x.fill();

  x.fillStyle="white";
  b.forEach(e=>{ e.y+=e.dy; x.fillRect(e.x,e.y,4,8); });

  z.forEach((e,i)=>{
    e.y+=e.s;
    x.fillStyle="red";
    x.beginPath(); x.arc(e.x,e.y,e.r,0,7); x.fill();
    b.forEach((bb,bi)=>{
      if(Math.hypot(bb.x-e.x,bb.y-e.y)<e.r){
        z.splice(i,1); b.splice(bi,1); k++;
      }
    });
  });

  life.textContent=p.life;
  kills.textContent=k;
  requestAnimationFrame(loop);
}
</script>
</body>
</html>
